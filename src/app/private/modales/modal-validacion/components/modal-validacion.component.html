<ion-header>
  <ion-toolbar  color="primary">
    <ion-title>Validar la Solicitud de Recurso</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="salir()" [strong]="true">Salir</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <ion-card>

    
    <ion-card-content>
      <table class="table table-hover table-active  table-bordered" >
        <thead >
          <tr>
             
            <th scope="col">Plaza Solicitada</th>
            <th scope="col">RFC</th>
            <th scope="col">CCT Asigna</th>
            <th scope="col">Categoría</th>
            <th scope="col">Justificación del N.E.</th>
            <th scope="col">Observación del N.E.</th>
            <th scope="col">Documento</th>
          </tr>
        </thead>
        <tbody>
          <tr  *ngFor="let p of DatosSolicitud ; let i = index">
          
            <td>{{ p.plazaFONE }}</td>
            <td>{{ p.rfc }}</td>
            <td>{{ p.ccT_Asigna }}</td>
            <td>{{ p.cat_Puesto }} - {{ p.categoria}}</td>
            <td>{{ p.justificacion }} </td>
            <td>{{ p.observaciones }} </td>
            <td><ion-button (click)="verDoc(p.ruta)"  size="small" *ngIf="p.ruta">  <ion-icon name="document-attach-outline"> Ver Documento </ion-icon> </ion-button> </td>
          </tr>
        </tbody>
      </table>
      <ion-grid>
        <ion-row>
          <ion-col size="4"> 
            <ion-item>
            <ion-label position="stacked"> ¿ Autorizar Recurso ? </ion-label>
            <ion-select [(ngModel)]="IdEstatus"   interface="action-sheet"  >
              <ion-select-option  value=0>Validar ...</ion-select-option>
              <ion-select-option   *ngFor="let n of EstatusVacancia; let i = index" [value]="n.idEstatus">{{n.descripcion}}</ion-select-option>
            </ion-select>
            </ion-item>
          </ion-col>
          <ion-col size="4">
           <ion-label> OBSERVACIONES: </ion-label>
            <ion-textarea rows="2" [(ngModel)]="observa"  label="Solid input" label-placement="floating" fill="solid" 
            helperText="Observaciones para RH"
            placeholder="Observaciones  RH"></ion-textarea>
          </ion-col>
          <ion-col size="4">
            <ion-item>
              <ion-button expand="full" (click)="file.click()">
                <ion-icon lazy="true" slot="start" name="document-attach"></ion-icon>
                <ion-label slot="end">Seleccionar Evidencia</ion-label>
              </ion-button>
                <input class="ion-hide" #file type="file" (change)="selecionaImagen(file.files)" id="file-input"
                  accept=".pdf">
  
           </ion-item>
           <span>Evidencia: {{nombreDoc}}</span>
            
           </ion-col>
          
        </ion-row>
      </ion-grid>
     

      <ion-button fill="solid" (click)="Guardarvalidacion()" >
        <ion-icon  slot="start" name="save"></ion-icon>
        Guardar Validación
      </ion-button>
    </ion-card-content>
 
  </ion-card>
</ion-content>